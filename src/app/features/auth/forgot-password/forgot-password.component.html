<div class="container px-4 px-lg-5">
  <!-- Heading Row-->
  <div class="row gx-4 gx-lg-5 align-items-center my-5">
    <div class="col-lg-7"><img class="img-fluid rounded mb-3 mb-lg-0" src="/assets/images/Business.jpeg" alt="..." /></div>
    <div class="col-lg-5">
      <h1 class="font-weight-light text-center">Recuperar acceso</h1>

      <form [formGroup]="form" (ngSubmit)="recoverAccess()">
          @if (step === 1) {
            <div class="form-group mt-3">
              <input id="username" class="form-control" [ngClass]="{'input-error': getFieldError('username', 'required')}" placeholder="User Name" name="name" formControlName="username">
              @if (getFieldError('username', 'required')) {
                <span class="error-text">Este campo es requerido</span>
              }
            </div>
          } @else {
            <div class="form-group mt-3">
              <input id="newPass" class="form-control" [ngClass]="{'input-error': getFieldError('newPass', 'required')}" placeholder="New password" name="newPass" formControlName="newPass">
              @if (getFieldError('newPass', 'required')) {
                <span class="error-text">Este campo es requerido</span>
              }
            </div>
          }
        <div class="col-lg-12 mt-3">
          <a class="nav-link text-primary" style="text-align:center" routerLink="/sign-in">Â¿Ya posee una cuenta?, inicie sesion</a>
        </div>

        @if (step === 1) {
          <button class="btn w-100 btn-primary mt-5" type="button" (click)="validateEmail()" [disabled]="loading || !username">Validar</button>
        } @else {
          <button class="btn w-100 btn-primary mt-5" type="submit" [disabled]="loading || form.invalid">Validar</button>
        }

      </form>


    </div>

  </div>
</div>
